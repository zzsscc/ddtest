<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=htm, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- <script src="https://g.alicdn.com/dingding/dingtalk-pc-api/2.7.0/index.js"></script> -->

    <script src="https://g.alicdn.com/dingding/open-develop/1.6.9/dingtalk.js"></script>
    <!-- <script src="./index.js"></script> -->
</head>

<body>
    <p>测试</p>
</body>

<script>
    window.onload = function() {
        console.log(dd)
        dd.config({
            agentId: '116242846', // 必填，微应用ID
            corpId: 'dingb6a804608ad50c0d35c2f4657eb6378f', //必填，企业ID
            timeStamp: '1501486582', // 必填，生成签名的时间戳
            nonceStr: 'abcdefg', // 必填，生成签名的随机串
            signature: 'fcab574d1a34cafebf7ee648098adacc9a5b0b6d', // 必填，签名
            type: 0, //选填。0表示微应用的jsapi,1表示服务窗的jsapi。不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持
            jsApiList: ['runtime.info', 'biz.contact.choose',
                    'device.notification.confirm', 'device.notification.alert',
                    'device.notification.prompt', 'biz.ding.post',
                    'biz.util.openLink'
                ] // 必填，需要使用的jsapi列表，注意：不要带dd。
        });

        dd.ready(function() {
            dd.device.notification.prompt({
                message: "再说一遍？",
                title: "提示",
                buttonLabels: ['继续', '不玩了'],
                onSuccess: function(result) {
                    //onSuccess将在点击button之后回调
                    /*
                    {
                        buttonIndex: 0, //被点击按钮的索引值，Number类型，从0开始
                        value: '' //输入的值
                    }
                    */
                },
                onFail: function(err) {}
            });
        })

        dd.error(function(error) {
            /**
                {
                message:"错误信息",//message信息会展示出钉钉服务端生成签名使用的参数，请和您生成签名的参数作对比，找出错误的参数
                errorCode:"错误码"
                }
            **/
            // alert('dd error: ' + JSON.stringify(err));
            dd.device.notification.alert({
                message: JSON.stringify(err),
                title: "提示", //可传空
                buttonName: "收到",
                onSuccess: function() {
                    //onSuccess将在点击button之后回调
                    /*回调*/
                },
                onFail: function(err) {}
            });
        });
    }


    // dd.ready(() => {
    //     console.log(234)
    // })
</script>

</html>